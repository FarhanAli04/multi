(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},91810,e=>{"use strict";let t=(0,e.i(75254).default)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);e.s(["RotateCw",()=>t],91810)},46831,e=>{"use strict";var t=e.i(43476),a=e.i(27612),s=e.i(91810),l=e.i(71645);function r(){let[e,r]=(0,l.useState)(!1),[n,c]=(0,l.useState)([]),[i,d]=(0,l.useState)(!1),[o,m]=(0,l.useState)(""),[h,u]=(0,l.useState)(""),g=()=>[{name:"Page Cache",description:"Cached page content"},{name:"Product Cache",description:"Product listings and details"},{name:"Image Cache",description:"Optimized product images"},{name:"Database Cache",description:"Query results"}];(0,l.useEffect)(()=>{let e=!1;return(async()=>{try{d(!0),m(""),u("");let t=await fetch("/api/settings"),a=await t.json().catch(()=>null);if(!a?.success)throw Error(a?.message||"Failed to load settings");let s=a?.data?.cache_settings||{},l=Array.isArray(s.cacheItems)?s.cacheItems:[];e||c(l)}catch(t){e||m(t?.message||"Failed to load settings")}finally{e||d(!1)}})(),()=>{e=!0}},[]);let p=async e=>{try{m(""),u("");let t=new Date().toISOString(),a=(n.length?n:g()).map(a=>a.name===e?{...a,last_cleared_at:t}:a);c(a);let s=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cache_settings:{cacheItems:a}})}),l=await s.json().catch(()=>null);if(!l?.success)throw Error(l?.message||"Failed to update settings");u("Updated")}catch(e){m(e?.message||"Failed")}},x=n.length?n:g(),y=async()=>{try{r(!0),m(""),u("");let e=new Date().toISOString(),t=x.map(t=>({...t,last_cleared_at:e}));c(t);let a=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cache_settings:{cacheItems:t}})}),s=await a.json().catch(()=>null);if(!s?.success)throw Error(s?.message||"Failed");u("Updated")}catch(e){m(e?.message||"Failed")}finally{r(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Clear Cache"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Improve performance by managing system cache"})]}),i?(0,t.jsx)("div",{className:"text-muted-foreground",children:"Loading..."}):null,o?(0,t.jsx)("div",{className:"rounded-lg border border-border bg-muted p-4 text-sm text-destructive",children:o}):null,h?(0,t.jsx)("div",{className:"rounded-lg border border-border bg-muted p-4 text-sm",children:h}):null,(0,t.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,t.jsxs)("div",{className:"admin-panel-table p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Last cleared: ",e.last_cleared_at?new Date(e.last_cleared_at).toLocaleString():"â€”"]})]}),(0,t.jsxs)("button",{className:"admin-panel-btn-danger flex items-center gap-2",onClick:()=>p(e.name),disabled:i,children:[(0,t.jsx)(a.Trash2,{size:18}),"Clear"]})]},e.name))}),(0,t.jsx)("div",{className:"admin-panel-table p-6 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-200 dark:border-orange-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"Clear All Cache"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will clear all cached data. Use cautiously."})]}),(0,t.jsx)("button",{className:"admin-panel-btn-danger flex items-center gap-2",onClick:y,disabled:e||i,children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.RotateCw,{size:18,className:"animate-spin"}),"Clearing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Trash2,{size:18}),"Clear All"]})})]})})]})}e.s(["default",()=>r])}]);