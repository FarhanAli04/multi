(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27612,e=>{"use strict";let s=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612)},9448,e=>{"use strict";let s=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>s],9448)},16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},71056,e=>{"use strict";var s=e.i(43476),t=e.i(14764),a=e.i(55436),r=e.i(16715),d=e.i(9448),i=e.i(27612),n=e.i(71645),l=e.i(67881),o=e.i(23750),c=e.i(70065),m=e.i(94179);function u(){let[e,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(""),[v,y]=(0,n.useState)([{id:1,name:"Tech Store Support",type:"Vendor",lastMessage:"Product approval request",unread:3,date:"Dec 18, 2024",messages:[{id:1,text:"Hi, can you check on our product approval?",sender:"other",timestamp:"10:30 AM"},{id:2,text:"Your products are under review. Should be done by tomorrow.",sender:"me",timestamp:"10:32 AM"},{id:3,text:"Thank you for the update!",sender:"other",timestamp:"10:33 AM"}]},{id:2,name:"John Doe",type:"Customer",lastMessage:"Order status inquiry",unread:0,date:"Dec 17, 2024",messages:[{id:1,text:"Where is my order?",sender:"other",timestamp:"2:15 PM"},{id:2,text:"Your order has been shipped and should arrive in 2-3 days.",sender:"me",timestamp:"2:20 PM"}]},{id:3,name:"Fashion Hub",type:"Vendor",lastMessage:"Commission withdrawal request",unread:1,date:"Dec 16, 2024",messages:[{id:1,text:"I'd like to withdraw my commission.",sender:"other",timestamp:"9:00 AM"}]}]),f=v.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.type.toLowerCase().includes(e.toLowerCase())),j=v.find(e=>e.id===x),b=()=>{if(p.trim()&&j){let e={id:j.messages.length+1,text:p,sender:"me",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};y(s=>s.map(s=>s.id===x?{...s,messages:[...s.messages,e],lastMessage:p,date:new Date().toLocaleDateString(),unread:0}:s)),g("")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Messages"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Support chat with customers and vendors"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{alert("Messages refreshed!")},children:[(0,s.jsx)(r.RefreshCw,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{let e=encodeURI("data:text/csv;charset=utf-8,Name,Type,Last Message,Unread,Date\n"+v.map(e=>`${e.name},${e.type},${e.lastMessage},${e.unread},${e.date}`).join("\n")),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download","messages.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},children:[(0,s.jsx)(d.Download,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(c.Card,{children:(0,s.jsxs)(c.CardContent,{className:"p-0",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border flex items-center gap-2",children:[(0,s.jsx)(a.Search,{size:18,className:"text-muted-foreground"}),(0,s.jsx)(o.Input,{type:"text",placeholder:"Search conversations...",value:e,onChange:e=>u(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-sm"})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:f.map(e=>(0,s.jsxs)("div",{className:`w-full p-4 border-b border-border hover:bg-muted transition-colors cursor-pointer ${x===e.id?"bg-muted":""}`,onClick:()=>{var s;h(e.id),s=e.id,y(e=>e.map(e=>e.id===s?{...e,unread:0}:e))},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"font-semibold",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.unread>0&&(0,s.jsx)(m.Badge,{variant:"default",className:"text-xs",children:e.unread}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:s=>{var t;s.stopPropagation(),t=e.id,confirm("Are you sure you want to delete this conversation?")&&(y(e=>e.filter(e=>e.id!==t)),x===t&&v.length>1&&h(v.find(e=>e.id!==t)?.id||1))},children:(0,s.jsx)(i.Trash2,{size:14,className:"text-red-500"})})]})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:e.type}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground truncate",children:e.lastMessage}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:e.date})]},e.id))})]})})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(c.Card,{className:"flex flex-col h-[500px]",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,s.jsx)("h3",{className:"font-bold",children:j.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[j.type," Chat"]})]}),(0,s.jsx)("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto bg-background/50",children:j.messages.map(e=>(0,s.jsx)("div",{className:`flex ${"me"===e.sender?"justify-end":"justify-start"}`,children:(0,s.jsxs)("div",{className:`px-4 py-2 rounded-lg max-w-xs ${"me"===e.sender?"bg-primary text-primary-foreground":"bg-muted"}`,children:[(0,s.jsx)("p",{className:"text-sm",children:e.text}),(0,s.jsx)("span",{className:`text-xs ${"me"===e.sender?"text-primary-foreground/75":"text-muted-foreground"}`,children:e.timestamp})]})},e.id))}),(0,s.jsx)("div",{className:"p-4 border-t border-border",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(o.Input,{type:"text",placeholder:"Type your message...",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(),className:"flex-1"}),(0,s.jsx)(l.Button,{onClick:b,children:(0,s.jsx)(t.Send,{size:18})})]})})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a conversation to start chatting"})})})]})]})}e.s(["default",()=>u])}]);