{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,kLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,iMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,iMAAuC,CAAC,WAAW"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///D:/Clients%20era/CURRENT/v0-multi-vendor-e-commerce-website-main/v0-multi-vendor-e-commerce-website-main/components/chat/chat-widget.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState, type ChangeEvent } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\r\nimport { \r\n  MessageCircle, \r\n  X, \r\n  Send, \r\n  Paperclip, \r\n  Minimize2, \r\n  Maximize2,\r\n  Phone,\r\n  Video,\r\n  Users\r\n} from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface Message {\r\n  id: string\r\n  text: string\r\n  sender: string\r\n  senderId: string\r\n  timestamp: Date\r\n  type: 'text' | 'file'\r\n  fileUrl?: string\r\n  fileName?: string\r\n  isRead: boolean\r\n}\r\n\r\ninterface ChatUser {\r\n  id: string\r\n  conversationId?: number\r\n  name: string\r\n  avatar?: string\r\n  role: 'admin' | 'vendor' | 'customer'\r\n  isOnline: boolean\r\n  lastMessage?: string\r\n  unreadCount?: number\r\n}\r\n\r\ninterface BackendConversation {\r\n  conversation_id: number\r\n  other_user_id: number\r\n  other_user_name: string\r\n  other_user_avatar?: string | null\r\n  other_user_online?: number | boolean | null\r\n  other_user_last_seen?: string | null\r\n  last_message?: string | null\r\n  last_message_at?: string | null\r\n  unread_count?: number | string | null\r\n}\r\n\r\ninterface BackendMessage {\r\n  id: number\r\n  conversation_id: number\r\n  sender_id: number\r\n  content: string\r\n  message_type?: string\r\n  created_at: string\r\n  sender_name?: string\r\n  sender_avatar?: string | null\r\n  is_read?: number | boolean | string\r\n}\r\n\r\nexport function ChatWidget() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isMinimized, setIsMinimized] = useState(false)\r\n  const [selectedUser, setSelectedUser] = useState<ChatUser | null>(null)\r\n  const [message, setMessage] = useState(\"\")\r\n  const [messages, setMessages] = useState<Message[]>([])\r\n  const [chatUsers, setChatUsers] = useState<ChatUser[]>([])\r\n  const [currentUser, setCurrentUser] = useState<ChatUser | null>(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [wsStatus, setWsStatus] = useState<'disconnected' | 'connecting' | 'connected'>('disconnected')\r\n  const wsRef = useRef<WebSocket | null>(null)\r\n  const selectedConversationIdRef = useRef<number | null>(null)\r\n  \r\n  const messagesEndRef = useRef<HTMLDivElement>(null)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\r\n  }\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n  }, [messages])\r\n\r\n  const totalUnread = useMemo(() => {\r\n    return chatUsers.reduce((acc, user) => acc + (user.unreadCount || 0), 0)\r\n  }, [chatUsers])\r\n\r\n  const loadCurrentUser = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(\"/api/backend/auth/me\")\r\n      const data = await res.json().catch(() => null)\r\n      if (!res.ok) {\r\n        throw new Error(data?.error || \"Failed to load current user\")\r\n      }\r\n\r\n      const role = (data?.user?.role || \"customer\") as ChatUser[\"role\"]\r\n      setCurrentUser({\r\n        id: String(data?.user?.id || \"\"),\r\n        name: data?.user?.full_name || data?.user?.name || \"User\",\r\n        role,\r\n        isOnline: true,\r\n      })\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Failed to load current user\")\r\n    }\r\n  }, [])\r\n\r\n  const loadConversations = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(\"\")\r\n      const res = await fetch(\"/api/backend/conversations\")\r\n      const data = await res.json().catch(() => null)\r\n      if (!res.ok) {\r\n        throw new Error(data?.error || \"Failed to load conversations\")\r\n      }\r\n\r\n      const convs: BackendConversation[] = data?.conversations || []\r\n      const mappedUsers: ChatUser[] = convs.map((c) => ({\r\n        id: String(c.other_user_id),\r\n        conversationId: Number(c.conversation_id),\r\n        name: c.other_user_name || \"User\",\r\n        avatar: c.other_user_avatar || undefined,\r\n        role: \"customer\",\r\n        isOnline: Boolean(c.other_user_online),\r\n        lastMessage: c.last_message || \"\",\r\n        unreadCount: Number(c.unread_count || 0),\r\n      }))\r\n\r\n      setChatUsers(mappedUsers)\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Failed to load conversations\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const loadMessages = useCallback(async (conversationId: number) => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(\"\")\r\n      const res = await fetch(`/api/backend/conversations/${conversationId}/messages`)\r\n      const data = await res.json().catch(() => null)\r\n      if (!res.ok) {\r\n        throw new Error(data?.error || \"Failed to load messages\")\r\n      }\r\n\r\n      const list: BackendMessage[] = data?.messages || []\r\n      const mapped: Message[] = list.map((m) => ({\r\n        id: String(m.id),\r\n        text: m.content || \"\",\r\n        sender: m.sender_name || \"\",\r\n        senderId: String(m.sender_id),\r\n        timestamp: m.created_at ? new Date(m.created_at) : new Date(),\r\n        type: (m.message_type || \"text\") === \"file\" ? \"file\" : \"text\",\r\n        isRead: Boolean(m.is_read),\r\n      }))\r\n\r\n      setMessages(mapped)\r\n\r\n      setChatUsers((prev) =>\r\n        prev.map((u) =>\r\n          u.conversationId === conversationId\r\n            ? { ...u, unreadCount: 0 }\r\n            : u\r\n        )\r\n      )\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Failed to load messages\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const connectWebSocket = useCallback(async () => {\r\n    if (wsRef.current) return\r\n    try {\r\n      setWsStatus('connecting')\r\n      const tokenRes = await fetch(\"/api/ws-token\")\r\n      const tokenData = await tokenRes.json().catch(() => null)\r\n      if (!tokenRes.ok || !tokenData?.token) {\r\n        throw new Error(tokenData?.error || \"Failed to get ws token\")\r\n      }\r\n\r\n      const baseUrl = process.env.NEXT_PUBLIC_WS_URL || \"ws://localhost:8080\"\r\n      const wsUrl = `${baseUrl}?token=${encodeURIComponent(tokenData.token)}`\r\n      const ws = new WebSocket(wsUrl)\r\n      wsRef.current = ws\r\n\r\n      ws.onopen = () => {\r\n        setWsStatus('connected')\r\n      }\r\n\r\n      ws.onclose = () => {\r\n        wsRef.current = null\r\n        setWsStatus('disconnected')\r\n      }\r\n\r\n      ws.onerror = () => {\r\n        // onclose will clean up\r\n      }\r\n\r\n      ws.onmessage = (ev) => {\r\n        const data = JSON.parse(ev.data || \"{}\")\r\n        if (!data) return\r\n\r\n        if (data.type === 'user_status') {\r\n          const userId = String(data.user_id)\r\n          setChatUsers((prev) =>\r\n            prev.map((u) => (u.id === userId ? { ...u, isOnline: Boolean(data.is_online) } : u))\r\n          )\r\n          return\r\n        }\r\n\r\n        if (data.type === 'read_receipt') {\r\n          const messageId = String(data.message_id)\r\n          setMessages((prev) => prev.map((m) => (m.id === messageId ? { ...m, isRead: true } : m)))\r\n          return\r\n        }\r\n\r\n        // message broadcast doesn't include a `type` in current WS server\r\n        if (data.conversation_id && data.sender_id && data.content) {\r\n          const incomingConversationId = Number(data.conversation_id)\r\n          const incoming: Message = {\r\n            id: String(data.id || Date.now()),\r\n            text: String(data.content || \"\"),\r\n            sender: String(data.sender_name || \"\"),\r\n            senderId: String(data.sender_id),\r\n            timestamp: data.created_at ? new Date(data.created_at) : new Date(),\r\n            type: (data.message_type || \"text\") === \"file\" ? \"file\" : \"text\",\r\n            isRead: false,\r\n          }\r\n\r\n          setChatUsers((prev) =>\r\n            prev.map((u) => {\r\n              if (u.conversationId !== incomingConversationId) return u\r\n              const shouldCountUnread = selectedConversationIdRef.current !== incomingConversationId\r\n              return {\r\n                ...u,\r\n                lastMessage: incoming.text,\r\n                unreadCount: shouldCountUnread ? (u.unreadCount || 0) + 1 : 0,\r\n              }\r\n            })\r\n          )\r\n\r\n          if (selectedConversationIdRef.current === incomingConversationId) {\r\n            setMessages((prev) => [...prev, incoming])\r\n          }\r\n          return\r\n        }\r\n      }\r\n    } catch (e: any) {\r\n      setWsStatus('disconnected')\r\n      setError(e?.message || \"WebSocket connection failed\")\r\n      wsRef.current = null\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) return\r\n    loadCurrentUser()\r\n    loadConversations()\r\n    connectWebSocket()\r\n    return () => {\r\n      if (wsRef.current) {\r\n        wsRef.current.close()\r\n        wsRef.current = null\r\n      }\r\n      setWsStatus('disconnected')\r\n    }\r\n  }, [connectWebSocket, isOpen, loadConversations, loadCurrentUser])\r\n\r\n  useEffect(() => {\r\n    selectedConversationIdRef.current = selectedUser?.conversationId ?? null\r\n  }, [selectedUser?.conversationId])\r\n\r\n  const sendMessage = async () => {\r\n    if (!message.trim() || !selectedUser?.conversationId || !currentUser) return\r\n\r\n    const optimistic: Message = {\r\n      id: `tmp-${Date.now()}`,\r\n      text: message,\r\n      sender: currentUser.name,\r\n      senderId: currentUser.id,\r\n      timestamp: new Date(),\r\n      type: 'text',\r\n      isRead: false,\r\n    }\r\n\r\n    const content = message\r\n    setMessages((prev) => [...prev, optimistic])\r\n    setMessage(\"\")\r\n\r\n    const payload = {\r\n      type: 'message',\r\n      conversation_id: selectedUser.conversationId,\r\n      content,\r\n    }\r\n\r\n    try {\r\n      if (wsRef.current && wsStatus === 'connected') {\r\n        wsRef.current.send(JSON.stringify(payload))\r\n      } else {\r\n        const res = await fetch(\"/api/backend/messages\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            conversation_id: selectedUser.conversationId,\r\n            content,\r\n            message_type: \"text\",\r\n          }),\r\n        })\r\n        const data = await res.json().catch(() => null)\r\n        if (!res.ok) {\r\n          throw new Error(data?.error || \"Failed to send message\")\r\n        }\r\n      }\r\n\r\n      setChatUsers((prev) =>\r\n        prev.map((u) =>\r\n          u.conversationId === selectedUser.conversationId ? { ...u, lastMessage: content } : u\r\n        )\r\n      )\r\n    } catch (e: any) {\r\n      setError(e?.message || \"Failed to send message\")\r\n    }\r\n  }\r\n\r\n  const handleFileUpload = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (file && selectedUser && currentUser) {\r\n      const newMessage: Message = {\r\n        id: Date.now().toString(),\r\n        text: \"\",\r\n        sender: currentUser.name,\r\n        senderId: currentUser.id,\r\n        timestamp: new Date(),\r\n        type: 'file',\r\n        fileUrl: URL.createObjectURL(file),\r\n        fileName: file.name,\r\n        isRead: false\r\n      }\r\n      setMessages([...messages, newMessage])\r\n    }\r\n  }\r\n\r\n  const formatTime = (date: Date) => {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\r\n  }\r\n\r\n  const getRoleColor = (role: string) => {\r\n    switch (role) {\r\n      case 'admin': return 'bg-purple-100 text-purple-800'\r\n      case 'vendor': return 'bg-blue-100 text-blue-800'\r\n      case 'customer': return 'bg-green-100 text-green-800'\r\n      default: return 'bg-gray-100 text-gray-800'\r\n    }\r\n  }\r\n\r\n  if (!isOpen) {\r\n    return (\r\n      <div className=\"fixed bottom-4 right-4 z-50\">\r\n        <Button\r\n          onClick={() => setIsOpen(true)}\r\n          size=\"lg\"\r\n          className=\"relative h-14 w-14 rounded-full shadow-lg\"\r\n        >\r\n          <MessageCircle className=\"h-6 w-6\" />\r\n          {totalUnread > 0 && (\r\n            <Badge \r\n              variant=\"destructive\" \r\n              className=\"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs\"\r\n            >\r\n              {totalUnread}\r\n            </Badge>\r\n          )}\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\r\n      \"fixed bottom-4 right-4 z-50 transition-all duration-300\",\r\n      isMinimized ? \"w-80\" : \"w-96 h-[600px]\"\r\n    )}>\r\n      <Card className=\"h-full flex flex-col shadow-xl\">\r\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <MessageCircle className=\"h-5 w-5\" />\r\n            <CardTitle className=\"text-lg\">Chat Support</CardTitle>\r\n            {totalUnread > 0 && (\r\n              <Badge variant=\"destructive\" className=\"ml-2\">\r\n                {totalUnread}\r\n              </Badge>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center space-x-1\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setIsMinimized(!isMinimized)}\r\n            >\r\n              {isMinimized ? <Maximize2 className=\"h-4 w-4\" /> : <Minimize2 className=\"h-4 w-4\" />}\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setIsOpen(false)}\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        {!isMinimized && (\r\n          <>\r\n            <CardContent className=\"flex-1 p-0\">\r\n              {error && <div className=\"px-3 py-2 text-sm text-red-600\">{error}</div>}\r\n              <div className=\"flex h-full\">\r\n                {/* Users List */}\r\n                <div className={cn(\r\n                  \"border-r border-border\",\r\n                  selectedUser ? \"w-2/5\" : \"w-full\"\r\n                )}>\r\n                  <ScrollArea className=\"h-full\">\r\n                    <div className=\"p-2 space-y-1\">\r\n                      {chatUsers.map((user) => (\r\n                        <div\r\n                          key={user.id}\r\n                          onClick={() => {\r\n                            setSelectedUser(user)\r\n                            if (user.conversationId) {\r\n                              loadMessages(user.conversationId)\r\n                            }\r\n                          }}\r\n                          className={cn(\r\n                            \"flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-muted transition-colors\",\r\n                            selectedUser?.id === user.id && \"bg-muted\"\r\n                          )}\r\n                        >\r\n                          <div className=\"relative\">\r\n                            <Avatar className=\"h-8 w-8\">\r\n                              <AvatarImage src={user.avatar} />\r\n                              <AvatarFallback>{user.name.charAt(0)}</AvatarFallback>\r\n                            </Avatar>\r\n                            {user.isOnline && (\r\n                              <div className=\"absolute bottom-0 right-0 h-2 w-2 rounded-full bg-green-500 border-2 border-background\" />\r\n                            )}\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <p className=\"text-sm font-medium truncate\">{user.name}</p>\r\n                              {user.unreadCount && user.unreadCount > 0 && (\r\n                                <Badge variant=\"destructive\" className=\"ml-1 h-4 w-4 rounded-full p-0 text-xs\">\r\n                                  {user.unreadCount}\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-1\">\r\n                              <p className=\"text-xs text-muted-foreground truncate\">\r\n                                {user.lastMessage}\r\n                              </p>\r\n                              <Badge className={cn(\"text-xs\", getRoleColor(user.role))}>\r\n                                {user.role}\r\n                              </Badge>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </ScrollArea>\r\n                </div>\r\n\r\n                {/* Chat Area */}\r\n                {selectedUser && (\r\n                  <div className=\"flex-1 flex flex-col\">\r\n                    <div className=\"p-3 border-b border-border\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <Avatar className=\"h-8 w-8\">\r\n                            <AvatarImage src={selectedUser.avatar} />\r\n                            <AvatarFallback>{selectedUser.name.charAt(0)}</AvatarFallback>\r\n                          </Avatar>\r\n                          <div>\r\n                            <p className=\"text-sm font-medium\">{selectedUser.name}</p>\r\n                            <p className=\"text-xs text-muted-foreground\">\r\n                              {selectedUser.isOnline ? \"Online\" : \"Offline\"}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex space-x-1\">\r\n                          <Button variant=\"ghost\" size=\"sm\">\r\n                            <Phone className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button variant=\"ghost\" size=\"sm\">\r\n                            <Video className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <ScrollArea className=\"flex-1 p-4\">\r\n                      <div className=\"space-y-3\">\r\n                        {messages.map((msg) => (\r\n                          <div\r\n                            key={msg.id}\r\n                            className={cn(\r\n                              \"flex\",\r\n                              msg.senderId === currentUser?.id ? \"justify-end\" : \"justify-start\"\r\n                            )}\r\n                          >\r\n                            <div className={cn(\r\n                              \"max-w-[70%] rounded-lg p-2\",\r\n                              msg.senderId === currentUser?.id\r\n                                ? \"bg-primary text-primary-foreground\"\r\n                                : \"bg-muted\"\r\n                            )}>\r\n                              {msg.type === 'text' ? (\r\n                                <p className=\"text-sm\">{msg.text}</p>\r\n                              ) : (\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                  <Paperclip className=\"h-4 w-4\" />\r\n                                  <span className=\"text-sm\">{msg.fileName}</span>\r\n                                </div>\r\n                              )}\r\n                              <p className=\"text-xs opacity-70 mt-1\">\r\n                                {formatTime(msg.timestamp)}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                        <div ref={messagesEndRef} />\r\n                      </div>\r\n                    </ScrollArea>\r\n\r\n                    <div className=\"p-3 border-t border-border\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <input\r\n                          type=\"file\"\r\n                          ref={fileInputRef}\r\n                          onChange={handleFileUpload}\r\n                          className=\"hidden\"\r\n                        />\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => fileInputRef.current?.click()}\r\n                        >\r\n                          <Paperclip className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Input\r\n                          value={message}\r\n                          onChange={(e) => setMessage(e.target.value)}\r\n                          placeholder=\"Type a message...\"\r\n                          onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                          className=\"flex-1\"\r\n                        />\r\n                        <Button size=\"sm\" onClick={sendMessage}>\r\n                          <Send className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}