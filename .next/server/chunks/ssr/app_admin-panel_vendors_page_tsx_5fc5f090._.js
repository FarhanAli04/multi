module.exports=[68910,a=>{"use strict";var b=a.i(87924),c=a.i(87532),d=a.i(16201),e=a.i(77156),f=a.i(56468),g=a.i(84505),h=a.i(81464),i=a.i(24669),j=a.i(60246),k=a.i(83497),l=a.i(90166),m=a.i(92258),n=a.i(63519),o=a.i(24987),p=a.i(21374),q=a.i(41675),r=a.i(81560),s=a.i(11156),t=a.i(72131),u=a.i(40695),v=a.i(5522),w=a.i(3130),x=a.i(54161),y=a.i(65733),z=a.i(87682),A=a.i(21958),B=a.i(80281);function C(){let[a,C]=(0,t.useState)(""),[D,E]=(0,t.useState)("all"),[F,G]=(0,t.useState)("all"),[H,I]=(0,t.useState)("name"),[J,K]=(0,t.useState)(null),[L,M]=(0,t.useState)(!1),[N,O]=(0,t.useState)([]),[P,Q]=(0,t.useState)(!1),[R,S]=(0,t.useState)(""),T=async()=>{try{Q(!0),S("");let a=await fetch("/api/backend/admin/vendors"),b=await a.json().catch(()=>null);if(!a.ok)throw Error(b?.error||"Failed to load vendors");let c=(b?.vendors||[]).map(a=>{let b=Number(a.earnings??0),c=a.joinDate?new Date(a.joinDate).toLocaleDateString():"",d=a.lastActive?new Date(a.lastActive).toLocaleString():"";return{id:Number(a.id),name:a.name||"",owner:a.owner||"",email:a.email||"",phone:a.phone||"",address:a.address||"",products:Number(a.products??0),orders:Number(a.orders??0),earnings:`$${b.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,verified:!!a.verified,status:a.status||"Pending",rating:0,joinDate:c,lastActive:d,commission:Number(a.commission??10),paymentMethod:"",documents:{idVerified:!1,businessLicense:!1,taxId:!1},performance:{avgResponseTime:"",fulfillmentRate:0,returnRate:0,customerSatisfaction:0}}});O(c)}catch(a){S(a?.message||"Failed to load vendors")}finally{Q(!1)}};(0,t.useEffect)(()=>{T()},[]);let U=N.filter(b=>{let c=b.name.toLowerCase().includes(a.toLowerCase())||b.email.toLowerCase().includes(a.toLowerCase())||b.owner.toLowerCase().includes(a.toLowerCase()),d="all"===D||b.status===D,e="all"===F||"verified"===F&&b.verified||"unverified"===F&&!b.verified;return c&&d&&e}).sort((a,b)=>{switch(H){case"name":return a.name.localeCompare(b.name);case"earnings":return parseFloat(b.earnings.replace("$","").replace(",",""))-parseFloat(a.earnings.replace("$","").replace(",",""));case"orders":return b.orders-a.orders;case"rating":return b.rating-a.rating;case"joinDate":return new Date(b.joinDate).getTime()-new Date(a.joinDate).getTime();default:return 0}}),V=async a=>{let b=N.find(b=>b.id===a);if(!b)return;let c="Suspended"===b.status?"Active":"Suspended";try{Q(!0),S("");let b=await fetch(`/api/backend/admin/vendors/${a}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:c})}),d=await b.json().catch(()=>null);if(!b.ok)throw Error(d?.error||"Failed to update vendor status");await T()}catch(a){S(a?.message||"Failed to update vendor status")}finally{Q(!1)}},W=async a=>{let b=N.find(b=>b.id===a);if(!b)return;let c=b.verified?"Pending":"Active";try{Q(!0),S("");let b=await fetch(`/api/backend/admin/vendors/${a}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:c})}),d=await b.json().catch(()=>null);if(!b.ok)throw Error(d?.error||"Failed to update vendor");await T()}catch(a){S(a?.message||"Failed to update vendor")}finally{Q(!1)}},X=a=>{switch(a){case"Active":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=N.length,Z=N.filter(a=>"Active"===a.status).length,$=N.filter(a=>"Pending"===a.status).length,_=N.reduce((a,b)=>a+parseFloat(b.earnings.replace("$","").replace(",","")),0),aa=N.reduce((a,b)=>a+b.products,0),ab=N.reduce((a,b)=>a+b.orders,0);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Vendors Management"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage vendor accounts and earnings"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)(u.Button,{variant:"outline",onClick:()=>{let a=encodeURI("data:text/csv;charset=utf-8,Name,Owner,Email,Phone,Products,Orders,Earnings,Status,Verified,Rating,Join Date\n"+U.map(a=>`${a.name},${a.owner},${a.email},${a.phone},${a.products},${a.orders},${a.earnings},${a.status},${a.verified},${a.rating},${a.joinDate}`).join("\n")),b=document.createElement("a");b.setAttribute("href",a),b.setAttribute("download","vendors.csv"),document.body.appendChild(b),b.click(),document.body.removeChild(b)},children:[(0,b.jsx)(g.Download,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),R&&(0,b.jsx)("div",{className:"text-red-600",children:R}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Vendors"}),(0,b.jsx)(j.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(w.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:Y}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Z," active, ",$," pending"]})]})]}),(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Products"}),(0,b.jsx)(k.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(w.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:aa.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all vendors"})]})]}),(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Orders"}),(0,b.jsx)(i.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(w.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:ab.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time orders"})]})]}),(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(w.CardTitle,{className:"text-sm font-medium",children:"Total Earnings"}),(0,b.jsx)(l.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(w.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["$",_.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vendor earnings"})]})]})]}),(0,b.jsxs)(w.Card,{children:[(0,b.jsx)(w.CardHeader,{children:(0,b.jsxs)(w.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Filter,{className:"h-5 w-5"}),"Filters & Search"]})}),(0,b.jsx)(w.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(c.Search,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(v.Input,{type:"text",placeholder:"Search vendors...",value:a,onChange:a=>C(a.target.value),className:"pl-10"})]}),(0,b.jsxs)(z.Select,{value:D,onValueChange:E,children:[(0,b.jsx)(z.SelectTrigger,{children:(0,b.jsx)(z.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(z.SelectItem,{value:"Active",children:"Active"}),(0,b.jsx)(z.SelectItem,{value:"Pending",children:"Pending"}),(0,b.jsx)(z.SelectItem,{value:"Suspended",children:"Suspended"})]})]}),(0,b.jsxs)(z.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(z.SelectTrigger,{children:(0,b.jsx)(z.SelectValue,{placeholder:"Verification"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"all",children:"All Verification"}),(0,b.jsx)(z.SelectItem,{value:"verified",children:"Verified"}),(0,b.jsx)(z.SelectItem,{value:"unverified",children:"Unverified"})]})]}),(0,b.jsxs)(z.Select,{value:H,onValueChange:I,children:[(0,b.jsx)(z.SelectTrigger,{children:(0,b.jsx)(z.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"name",children:"Name"}),(0,b.jsx)(z.SelectItem,{value:"earnings",children:"Earnings"}),(0,b.jsx)(z.SelectItem,{value:"orders",children:"Orders"}),(0,b.jsx)(z.SelectItem,{value:"rating",children:"Rating"}),(0,b.jsx)(z.SelectItem,{value:"joinDate",children:"Join Date"})]})]})]})})]}),(0,b.jsx)(w.Card,{children:(0,b.jsx)(w.CardContent,{className:"p-0",children:(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted border-b border-border",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Vendor"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Contact"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Performance"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Earnings"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:U.map(a=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:a.name}),a.verified&&(0,b.jsx)(d.CheckCircle,{size:16,className:"text-green-600"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(p.Star,{size:12,className:"fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:a.rating}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:[a.products," products"]})]})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(m.Mail,{size:12,className:"text-muted-foreground"}),(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(n.Phone,{size:12,className:"text-muted-foreground"}),(0,b.jsx)("span",{children:a.phone})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Calendar,{size:12,className:"text-muted-foreground"}),(0,b.jsx)("span",{children:a.joinDate})]})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsxs)("div",{children:[a.orders," orders"]}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:(0,b.jsxs)("span",{className:`${a.performance.fulfillmentRate>=95?"text-green-600":"text-orange-600"}`,children:[a.performance.fulfillmentRate,"% fulfillment"]})}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Response: ",a.performance.avgResponseTime]})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-semibold text-primary",children:a.earnings}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.commission,"% commission"]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.paymentMethod})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(x.Badge,{className:X(a.status),children:a.status}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last active: ",a.lastActive]})]})}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>{K(a),M(!0)},children:(0,b.jsx)(e.Eye,{size:16,className:"text-primary"})}),(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>W(a.id),children:(0,b.jsx)(d.CheckCircle,{size:16,className:a.verified?"text-orange-500":"text-green-500"})}),(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>V(a.id),children:(0,b.jsx)(f.Ban,{size:16,className:"text-red-500"})}),(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void(confirm("Suspend this vendor?")&&V(b))},children:(0,b.jsx)(r.Trash2,{size:16,className:"text-red-500"})})]})})]},a.id))})]}),0===U.length&&(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No vendors found matching your criteria"})]})})}),(0,b.jsx)(y.Dialog,{open:L,onOpenChange:M,children:(0,b.jsxs)(y.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(y.DialogHeader,{children:[(0,b.jsx)(y.DialogTitle,{children:"Vendor Details"}),(0,b.jsx)(y.DialogDescription,{children:"Complete vendor information and performance metrics"})]}),J&&(0,b.jsxs)(A.Tabs,{defaultValue:"overview",className:"space-y-4",children:[(0,b.jsxs)(A.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsx)(A.TabsTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(A.TabsTrigger,{value:"performance",children:"Performance"}),(0,b.jsx)(A.TabsTrigger,{value:"documents",children:"Documents"}),(0,b.jsx)(A.TabsTrigger,{value:"financial",children:"Financial"})]}),(0,b.jsx)(A.TabsContent,{value:"overview",className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Business Name"}),(0,b.jsx)("p",{className:"font-semibold",children:J.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Owner"}),(0,b.jsx)("p",{children:J.owner})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{children:J.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{children:J.phone})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.MapPin,{size:14,className:"text-muted-foreground"}),(0,b.jsx)("p",{children:J.address})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Join Date"}),(0,b.jsx)("p",{children:J.joinDate})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Active"}),(0,b.jsx)("p",{children:J.lastActive})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Rating"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Star,{size:14,className:"fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:J.rating})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,b.jsx)(x.Badge,{className:X(J.status),children:J.status})]})]})}),(0,b.jsx)(A.TabsContent,{value:"performance",className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),(0,b.jsx)("p",{className:"font-semibold",children:J.orders})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),(0,b.jsx)("p",{className:"font-semibold",children:J.products})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Fulfillment Rate"}),(0,b.jsxs)("p",{className:`font-semibold ${J.performance.fulfillmentRate>=95?"text-green-600":"text-orange-600"}`,children:[J.performance.fulfillmentRate,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Return Rate"}),(0,b.jsxs)("p",{className:"font-semibold",children:[J.performance.returnRate,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Avg Response Time"}),(0,b.jsx)("p",{children:J.performance.avgResponseTime})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Satisfaction"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Star,{size:14,className:"fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:J.performance.customerSatisfaction})]})]})]})}),(0,b.jsx)(A.TabsContent,{value:"documents",className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"ID Verification"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Government-issued ID verification"})]}),(0,b.jsx)(B.Switch,{checked:J.documents.idVerified})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Business License"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Valid business license document"})]}),(0,b.jsx)(B.Switch,{checked:J.documents.businessLicense})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Tax ID"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tax identification number"})]}),(0,b.jsx)(B.Switch,{checked:J.documents.taxId})]})]})}),(0,b.jsx)(A.TabsContent,{value:"financial",className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"}),(0,b.jsx)("p",{className:"font-semibold text-primary",children:J.earnings})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Commission Rate"}),(0,b.jsxs)("p",{children:[J.commission,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(s.CreditCard,{size:14,className:"text-muted-foreground"}),(0,b.jsx)("p",{children:J.paymentMethod})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Account Status"}),(0,b.jsx)(x.Badge,{className:X(J.status),children:J.status})]})]})})]})]})})]})}a.s(["default",()=>C])}];

//# sourceMappingURL=app_admin-panel_vendors_page_tsx_5fc5f090._.js.map