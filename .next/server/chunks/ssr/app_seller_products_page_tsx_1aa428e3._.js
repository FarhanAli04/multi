module.exports=[19786,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(29147),e=a.i(14084),f=a.i(40695),g=a.i(5522),h=a.i(87532),i=a.i(15618),j=a.i(24569),k=a.i(81560),l=a.i(77156);function m(){let[a,m]=(0,c.useState)([]),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("all"),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)({name:"",price:"",stock:"",category:"",description:"",image_url:"",is_active:!0}),[L,M]=(0,c.useState)({name:"",price:"",stock:"",category:"",status:"Active",description:"",image_url:""}),N=async()=>{try{G(!0),I("");let a=await fetch("/api/backend/seller/products"),b=await a.json().catch(()=>null);if(!a.ok)throw Error(b?.error||"Failed to load products");let c=(b?.products||[]).map(a=>({id:Number(a.id),name:a.name,price:Number(a.price),stock:Number(a.stock),category:a.category||"",status:a.status,createdAt:a.created_at?new Date(a.created_at).toISOString().slice(0,10):""}));m(c)}catch(a){I(a?.message||"Failed to load products")}finally{G(!1)}},O=async()=>{try{let a=await fetch("/api/backend/categories"),b=await a.json().catch(()=>null);if(!a.ok)return;let c=(b?.categories||[]).map(a=>a.name).filter(Boolean);o(c)}catch{}};(0,c.useEffect)(()=>{N(),O()},[]);let P=(0,c.useMemo)(()=>n.length>0?n:["Electronics","Accessories","Clothing","Home & Kitchen"],[n]),Q=a.filter(a=>{let b=a.name.toLowerCase().includes(r.toLowerCase())||a.category.toLowerCase().includes(r.toLowerCase()),c="all"===t||a.status===t,d="all"===v||a.category===v;return b&&c&&d}),R=async()=>{try{G(!0),I("");let a={name:J.name,price:Number(J.price),stock:Number(J.stock),category:J.category,description:J.description,image_url:J.image_url,is_active:J.is_active},b=await fetch("/api/backend/seller/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error||"Failed to add product");A(!1),K({name:"",price:"",stock:"",category:"",description:"",image_url:"",is_active:!0}),await N()}catch(a){I(a?.message||"Failed to add product")}finally{G(!1)}},S=async()=>{try{if(!x)return;G(!0),I("");let a={name:L.name,price:Number(L.price),stock:Number(L.stock),category:L.category};"Inactive"===L.status&&(a.is_active=!1);let b=await fetch(`/api/backend/seller/products/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await b.json().catch(()=>null);if(!b.ok)throw Error(c?.error||"Failed to update product");C(!1),y(null),await N()}catch(a){I(a?.message||"Failed to update product")}finally{G(!1)}};return(0,b.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,b.jsx)(d.SellerSidebar,{isMobileMenuOpen:p,onMobileMenuClose:()=>q(!1)}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(e.SellerHeader,{onMobileMenuToggle:()=>q(a=>!a),isMobileMenuOpen:p}),(0,b.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your store products"})]}),(0,b.jsxs)(f.Button,{className:"mt-4 md:mt-0",onClick:()=>A(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)(h.Search,{className:"h-4 w-4 text-gray-400"})}),(0,b.jsx)(g.Input,{id:"search",type:"text",placeholder:"Search products...",className:"pl-10",value:r,onChange:a=>s(a.target.value)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,b.jsxs)("select",{id:"status",className:"w-full rounded-md border border-gray-300 py-2 px-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:t,onChange:a=>u(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"Out of Stock",children:"Out of Stock"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,b.jsxs)("select",{id:"category",className:"w-full rounded-md border border-gray-300 py-2 px-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:v,onChange:a=>w(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All Categories"}),P.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]})}),H&&(0,b.jsx)("div",{className:"text-red-600 text-sm",children:H}),(0,b.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.length>0?Q.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0 h-10 w-10 bg-gray-200 rounded-md flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-gray-500 text-xs",children:"IMG"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["SKU: ",a.id.toString().padStart(4,"0")]})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.category})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"text-sm text-gray-900",children:["₹",a.price.toLocaleString()]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"text-sm text-gray-900",children:[a.stock," units"]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:(a=>{switch(a){case"Active":return"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded";case"Inactive":return"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded";case"Out of Stock":return"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded";default:return"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded"}})(a.status),children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)("button",{onClick:()=>{y(a)},className:"text-blue-600 hover:text-blue-900",children:(0,b.jsx)(l.Eye,{className:"h-5 w-5"})}),(0,b.jsx)("button",{onClick:()=>{y(a),M({name:a.name,price:String(a.price),stock:String(a.stock),category:a.category,status:a.status,description:"",image_url:""}),C(!0)},className:"text-indigo-600 hover:text-indigo-900",children:(0,b.jsx)(j.Edit,{className:"h-5 w-5"})}),(0,b.jsx)("button",{onClick:()=>{y(a),E(!0)},className:"text-red-600 hover:text-red-900",children:(0,b.jsx)(k.Trash2,{className:"h-5 w-5"})})]})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No products found. Try adjusting your search or filters."})})})]})})})]})})]}),z&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Product"}),(0,b.jsxs)("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:()=>A(!1),children:[(0,b.jsx)("span",{className:"sr-only",children:"Close"}),(0,b.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Product Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"text",id:"name",className:"mt-1 block w-full",placeholder:"Enter product name",value:J.name,onChange:a=>K(b=>({...b,name:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:["Price (₹) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",id:"price",className:"mt-1 block w-full",placeholder:"0.00",min:"0",step:"0.01",value:J.price,onChange:a=>K(b=>({...b,price:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:["Stock Quantity ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",id:"stock",className:"mt-1 block w-full",placeholder:"0",min:"0",value:J.stock,onChange:a=>K(b=>({...b,stock:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:["Category ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{id:"category",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:J.category,onChange:a=>K(b=>({...b,category:a.target.value})),children:[(0,b.jsx)("option",{value:"",children:"Select a category"}),P.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("textarea",{id:"description",rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"Enter product description",value:J.description,onChange:a=>K(b=>({...b,description:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product Images"}),(0,b.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,b.jsx)("span",{className:"inline-block h-12 w-12 rounded-md overflow-hidden bg-gray-100",children:(0,b.jsx)("svg",{className:"h-full w-full text-gray-300",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,b.jsx)("button",{type:"button",className:"ml-5 bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload"})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{type:"button",onClick:R,disabled:F,children:"Add Product"})]})]})})}),B&&x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Product"}),(0,b.jsxs)("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:()=>C(!1),children:[(0,b.jsx)("span",{className:"sr-only",children:"Close"}),(0,b.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"edit-name",className:"block text-sm font-medium text-gray-700",children:["Product Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"text",id:"edit-name",className:"mt-1 block w-full",value:L.name,onChange:a=>M(b=>({...b,name:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"edit-price",className:"block text-sm font-medium text-gray-700",children:["Price (₹) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",id:"edit-price",className:"mt-1 block w-full",min:"0",step:"0.01",value:L.price,onChange:a=>M(b=>({...b,price:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"edit-stock",className:"block text-sm font-medium text-gray-700",children:["Stock Quantity ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{type:"number",id:"edit-stock",className:"mt-1 block w-full",min:"0",value:L.stock,onChange:a=>M(b=>({...b,stock:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"edit-category",className:"block text-sm font-medium text-gray-700",children:["Category ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("select",{id:"edit-category",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:L.category,onChange:a=>M(b=>({...b,category:a.target.value})),children:P.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"edit-status",className:"block text-sm font-medium text-gray-700",children:["Status ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("select",{id:"edit-status",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",value:L.status,onChange:a=>M(b=>({...b,status:a.target.value})),children:[(0,b.jsx)("option",{value:"Active",children:"Active"}),(0,b.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"Out of Stock",children:"Out of Stock"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"edit-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("textarea",{id:"edit-description",rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 sm:text-sm",placeholder:"Enter product description",value:L.description,onChange:a=>M(b=>({...b,description:a.target.value}))})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{type:"button",onClick:S,disabled:F,children:"Save Changes"})]})]})})}),D&&x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mx-auto",children:(0,b.jsx)(k.Trash2,{className:"h-6 w-6 text-red-600"})}),(0,b.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Delete Product"}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to delete ",(0,b.jsx)("span",{className:"font-medium",children:x.name}),"? This action cannot be undone."]})})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg",children:[(0,b.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{(async()=>{if(x)try{G(!0),I("");let a=await fetch(`/api/backend/seller/products/${x.id}`,{method:"DELETE"}),b=await a.json().catch(()=>null);if(!a.ok)throw Error(b?.error||"Failed to delete product");E(!1),y(null),await N()}catch(a){I(a?.message||"Failed to delete product")}finally{G(!1)}})()},children:"Delete"}),(0,b.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>E(!1),children:"Cancel"})]})]})})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=app_seller_products_page_tsx_1aa428e3._.js.map