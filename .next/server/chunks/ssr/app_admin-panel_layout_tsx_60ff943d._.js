module.exports=[79733,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(30617),g=a.i(38784),h=a.i(83497),i=a.i(60246),j=a.i(57990),k=a.i(70106);let l=(0,k.default)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var m=a.i(10227),n=a.i(63588),o=a.i(5166);let p=(0,k.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var q=a.i(92258),r=a.i(21161),s=a.i(39761),t=a.i(11156),u=a.i(20494),v=a.i(1027),w=a.i(20005),x=a.i(72692),y=a.i(33508),z=a.i(5784),A=a.i(50522);function B(){let a=(0,e.usePathname)(),[k,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=()=>{D(window.innerWidth<1024),window.innerWidth>=1024?F(!0):F(!1)};a(),window.addEventListener("resize",a);let b=()=>{F(a=>!a)};return window.addEventListener("toggleSidebar",b),()=>{window.removeEventListener("resize",a),window.removeEventListener("toggleSidebar",b)}},[]);let G=()=>{F(!E)},H=[{label:"Main",items:[{href:"/admin-panel",icon:f.LayoutDashboard,label:"Dashboard"}]},{label:"Management",items:[{href:"/admin-panel/orders",icon:g.ShoppingCart,label:"Orders"},{href:"/admin-panel/categories",icon:h.Package,label:"Categories"},{href:"/admin-panel/products",icon:h.Package,label:"Products"},{href:"/admin-panel/customers",icon:i.Users,label:"Customers"},{href:"/admin-panel/vendors",icon:j.Store,label:"Vendors"},{href:"/admin-panel/riders",icon:m.Truck,label:"Riders"}]},{label:"Content & Communication",items:[{href:"/admin-panel/discussions",icon:n.MessageSquare,label:"Discussions"},{href:"/admin-panel/coupons",icon:o.Tag,label:"Coupons"},{href:"/admin-panel/blog",icon:p,label:"Blog"},{href:"/admin-panel/messages",icon:q.Mail,label:"Messages"}]},{label:"Configuration",items:[{href:"/admin-panel/settings/general",icon:r.Settings,label:"General Settings"},{href:"/admin-panel/settings/homepage",icon:s.BarChart3,label:"Home Page"},{href:"/admin-panel/settings/menu",icon:x.Menu,label:"Menu Settings"},{href:"/admin-panel/settings/email",icon:q.Mail,label:"Email Settings"},{href:"/admin-panel/settings/font",icon:s.BarChart3,label:"Font Options"},{href:"/admin-panel/settings/seo",icon:s.BarChart3,label:"SEO Tools"}]},{label:"Advanced",items:[{href:"/admin-panel/staff",icon:l,label:"Staff Management"},{href:"/admin-panel/roles",icon:l,label:"Roles & Permissions"},{href:"/admin-panel/subscribers",icon:i.Users,label:"Subscribers"},{href:"/admin-panel/deposits",icon:t.CreditCard,label:"Customer Deposits"},{href:"/admin-panel/earnings",icon:t.CreditCard,label:"Vendor Earnings"},{href:"/admin-panel/cache",icon:u.Database,label:"Clear Cache"},{href:"/admin-panel/addons",icon:v.Zap,label:"Addon Manager"},{href:"/admin-panel/system",icon:r.Settings,label:"System Activation"}]}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:G,className:"fixed top-4 left-4 z-50 p-2 rounded-md bg-card border border-border lg:hidden","aria-label":"Toggle menu",children:E?(0,b.jsx)(y.X,{size:24}):(0,b.jsx)(x.Menu,{size:24})}),E&&C&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:G}),(0,b.jsxs)("aside",{className:`admin-panel-sidebar ${E?"open":""}`,children:[(0,b.jsxs)("div",{className:"admin-panel-sidebar-header",children:[(0,b.jsx)("h1",{className:"admin-panel-title",children:"SAR Admin"}),(0,b.jsx)("p",{className:"admin-panel-subtitle",children:"Admin Dashboard"})]}),(0,b.jsx)("nav",{className:"admin-panel-nav flex-1 overflow-y-auto",children:H.map(c=>(0,b.jsxs)("div",{className:"admin-panel-menu-group",children:[(0,b.jsx)("h3",{className:"admin-panel-menu-group-title",children:c.label}),(0,b.jsx)("div",{className:"admin-panel-menu-items",children:c.items.map(e=>{let f=a===e.href,g=e.items&&e.items.length>0,h=k===c.label;return g?(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("button",{onClick:()=>B(h?null:c.label),className:`admin-panel-menu-item w-full text-left justify-between ${f?"active":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(e.icon,{size:18,className:"mr-3"}),(0,b.jsx)("span",{children:e.label})]}),h?(0,b.jsx)(z.ChevronDown,{className:"w-4 h-4"}):(0,b.jsx)(A.ChevronRight,{className:"w-4 h-4"})]}),h&&(0,b.jsx)("div",{className:"pl-11 pr-2 py-1 space-y-1",children:e.items?.map(c=>(0,b.jsx)(d.default,{href:c.href,className:`block px-3 py-2 text-sm rounded-md ${a===c.href?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted"}`,onClick:()=>C&&G(),children:c.label},c.href))})]},e.href):(0,b.jsxs)(d.default,{href:e.href,className:`admin-panel-menu-item ${f?"active":""}`,onClick:()=>C&&G(),children:[(0,b.jsx)(e.icon,{size:18,className:"mr-3"}),(0,b.jsx)("span",{children:e.label})]},e.href)})})]},c.label))}),(0,b.jsx)("div",{className:"mt-auto p-4 border-t border-border",children:(0,b.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded-lg transition-colors",onClick:()=>{document.cookie="admin_token=; path=/; max-age=0",document.cookie="admin_email=; path=/; max-age=0",window.location.href="/auth/admin-login"},children:[(0,b.jsx)(w.LogOut,{size:18}),"Sign Out"]})})]})]})}var C=a.i(23312),D=a.i(46842),E=a.i(87532);a.i(16201),a.i(92e3),(0,k.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var F=a.i(90166);let G=(0,k.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.i(62722);var H=a.i(52025),I=a.i(40695),J=a.i(54161);function K(){let[a,f]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([{id:1,type:"success",title:"New Order Received",message:"Order #12345 has been placed successfully",time:"2 minutes ago",read:!1,icon:(0,b.jsx)(g.ShoppingCart,{className:"h-4 w-4 text-green-600"}),action:{label:"View Order",href:"/admin-panel/orders"}},{id:2,type:"warning",title:"Low Stock Alert",message:"Product 'Wireless Headphones' is running low on stock (5 remaining)",time:"15 minutes ago",read:!1,icon:(0,b.jsx)(h.Package,{className:"h-4 w-4 text-yellow-600"}),action:{label:"Manage Stock",href:"/admin-panel/products"}},{id:3,type:"info",title:"New Vendor Registration",message:"Tech Store has applied to become a vendor",time:"1 hour ago",read:!0,icon:(0,b.jsx)(i.Users,{className:"h-4 w-4 text-blue-600"}),action:{label:"Review Application",href:"/admin-panel/vendors"}},{id:4,type:"error",title:"Payment Processing Failed",message:"Payment for order #12342 could not be processed",time:"2 hours ago",read:!0,icon:(0,b.jsx)(F.DollarSign,{className:"h-4 w-4 text-red-600"}),action:{label:"Investigate",href:"/admin-panel/orders"}},{id:5,type:"warning",title:"System Maintenance",message:"Scheduled maintenance in 6 hours",time:"3 hours ago",read:!0,icon:(0,b.jsx)(G,{className:"h-4 w-4 text-yellow-600"})}]),[p,q]=(0,c.useState)("admin@sarstore.com"),[s,t]=(0,c.useState)(!1),u=(0,e.usePathname)();(0,c.useEffect)(()=>{let a=()=>{t(window.innerWidth<1024)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),(0,c.useEffect)(()=>{let a=document.cookie.split(";").find(a=>a.trim().startsWith("admin_email="));a&&q(decodeURIComponent(a.split("=")[1]))},[]),(0,c.useEffect)(()=>{let b=b=>{l&&(b.target.closest(".notification-dropdown")||m(!1)),a&&(b.target.closest(".user-menu")||f(!1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[l,a]);let v=n.filter(a=>!a.read).length;return(0,b.jsx)("header",{className:"sticky top-0 z-30 bg-card border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("button",{className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-muted",onClick:()=>{let a=new CustomEvent("toggleSidebar");window.dispatchEvent(a)},children:(0,b.jsx)(x.Menu,{className:"h-6 w-6"})}),(0,b.jsx)("div",{className:`${j?"block":"hidden"} lg:block flex-1 max-w-2xl mx-4`,children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(E.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",placeholder:"Search orders, products, users...",className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50",onBlur:()=>s&&k(!1),autoFocus:j}),s&&j&&(0,b.jsx)("button",{onClick:()=>k(!1),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground",children:(0,b.jsx)(y.X,{className:"h-5 w-5"})})]})}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,b.jsx)("button",{className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-muted",onClick:()=>k(!j),children:(0,b.jsx)(E.Search,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"relative notification-dropdown",children:[(0,b.jsxs)("button",{className:"p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted relative",onClick:()=>m(!l),children:[(0,b.jsx)(C.Bell,{className:"h-5 w-5"}),v>0&&(0,b.jsx)("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 rounded-full bg-red-500"})]}),l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-96 rounded-md shadow-lg bg-card border border-border z-50 max-h-96 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Notifications"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[v>0&&(0,b.jsxs)(J.Badge,{variant:"secondary",className:"text-xs",children:[v," unread"]}),(0,b.jsx)(I.Button,{variant:"ghost",size:"sm",onClick:()=>{o(n.map(a=>({...a,read:!0})))},className:"text-xs",children:"Mark all read"})]})]})}),(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto",children:n.length>0?n.map(a=>(0,b.jsx)("div",{className:`p-4 border-b border-border last:border-b-0 hover:bg-muted/50 transition-colors ${!a.read?"bg-muted/30":""}`,onClick:()=>{var b;return b=a.id,void o(n.map(a=>a.id===b?{...a,read:!0}:a))},children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:a.icon}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:`text-sm font-medium ${!a.read?"text-foreground":"text-muted-foreground"}`,children:a.title}),(0,b.jsx)("button",{onClick:b=>{var c;b.stopPropagation(),c=a.id,o(n.filter(a=>a.id!==c))},className:"flex-shrink-0 p-1 rounded-full hover:bg-muted text-muted-foreground hover:text-foreground",children:(0,b.jsx)(y.X,{className:"h-3 w-3"})})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.message}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.time}),a.action&&(0,b.jsx)(d.default,{href:a.action.href,children:(0,b.jsx)(I.Button,{variant:"ghost",size:"sm",className:"text-xs h-auto py-1 px-2",children:a.action.label})})]})]})]})},a.id)):(0,b.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[(0,b.jsx)(C.Bell,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{className:"text-sm",children:"No notifications"})]})}),n.length>0&&(0,b.jsx)("div",{className:"p-3 border-t border-border bg-muted/30",children:(0,b.jsx)(I.Button,{variant:"ghost",size:"sm",onClick:()=>{o([])},className:"w-full text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30",children:"Clear all notifications"})})]})]})]}),(0,b.jsx)(d.default,{href:"/admin-panel/settings",className:`p-2 rounded-full text-muted-foreground hover:text-foreground hover:bg-muted ${"/admin-panel/settings"===u?"text-foreground bg-muted":""}`,children:(0,b.jsx)(r.Settings,{className:"h-5 w-5"})}),(0,b.jsx)("div",{className:"hidden sm:block",children:(0,b.jsx)(H.ThemeToggle,{})}),(0,b.jsxs)("div",{className:"relative ml-2 user-menu",children:[(0,b.jsxs)("button",{onClick:()=>f(!a),className:"flex items-center space-x-2 p-1 rounded-full hover:bg-muted",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:(0,b.jsx)(D.User,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Admin"})]}),a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-card border border-border z-50",children:[(0,b.jsxs)("div",{className:"px-4 py-3 border-b border-border",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:p}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Administrator"})]}),(0,b.jsx)("div",{className:"p-1",children:(0,b.jsxs)("button",{onClick:()=>{document.cookie="admin_token=; path=/; max-age=0",document.cookie="admin_email=; path=/; max-age=0",window.location.href="/auth/admin-login"},className:"flex w-full items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded",children:[(0,b.jsx)(w.LogOut,{className:"mr-2 h-4 w-4"}),"Sign out"]})})]})]})]})]})]})})}var L=a.i(76608),M=a.i(89224);function N(){let[a,d]=(0,c.useState)(!1),f=(0,e.useRouter)();return((0,c.useEffect)(()=>{let a=!1;return(async()=>{try{let b=await fetch("/api/backend/auth/me"),c=await b.json().catch(()=>null);if(a)return;let e=c?.user?.role;if(!b.ok||!e)return void f.push("/auth/admin-login");if("admin"!==e)return void("seller"===e?f.push("/seller"):f.push("/customer"));d(!0)}catch{if(a)return;f.push("/auth/admin-login")}})(),()=>{a=!0}},[f]),a)?null:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Redirecting to login..."})]})})}function O({children:a}){let[d,e]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let a=()=>{window.innerWidth>=1024?e(!0):e(!1)};return a(),window.addEventListener("resize",a),window.addEventListener("toggleSidebar",()=>e(a=>!a)),()=>{window.removeEventListener("resize",a),window.removeEventListener("toggleSidebar",()=>{})}},[]),(0,b.jsx)(M.RealtimeProvider,{children:(0,b.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,b.jsx)(N,{}),(0,b.jsx)(B,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(K,{}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-muted/20",children:a})]}),(0,b.jsx)(L.ChatWidget,{})]})})}a.s(["default",()=>O],79733)}];

//# sourceMappingURL=app_admin-panel_layout_tsx_60ff943d._.js.map