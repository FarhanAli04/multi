module.exports=[81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},41815,a=>{"use strict";let b=(0,a.i(70106).default)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);a.s(["RotateCw",()=>b],41815)},37032,a=>{"use strict";var b=a.i(87924),c=a.i(81560),d=a.i(41815),e=a.i(72131);function f(){let[a,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(""),o=()=>[{name:"Page Cache",description:"Cached page content"},{name:"Product Cache",description:"Product listings and details"},{name:"Image Cache",description:"Optimized product images"},{name:"Database Cache",description:"Query results"}];(0,e.useEffect)(()=>{let a=!1;return(async()=>{try{j(!0),l(""),n("");let b=await fetch("/api/settings"),c=await b.json().catch(()=>null);if(!c?.success)throw Error(c?.message||"Failed to load settings");let d=c?.data?.cache_settings||{},e=Array.isArray(d.cacheItems)?d.cacheItems:[];a||h(e)}catch(b){a||l(b?.message||"Failed to load settings")}finally{a||j(!1)}})(),()=>{a=!0}},[]);let p=async a=>{try{l(""),n("");let b=new Date().toISOString(),c=(g.length?g:o()).map(c=>c.name===a?{...c,last_cleared_at:b}:c);h(c);let d=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cache_settings:{cacheItems:c}})}),e=await d.json().catch(()=>null);if(!e?.success)throw Error(e?.message||"Failed to update settings");n("Updated")}catch(a){l(a?.message||"Failed")}},q=g.length?g:o(),r=async()=>{try{f(!0),l(""),n("");let a=new Date().toISOString(),b=q.map(b=>({...b,last_cleared_at:a}));h(b);let c=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cache_settings:{cacheItems:b}})}),d=await c.json().catch(()=>null);if(!d?.success)throw Error(d?.message||"Failed");n("Updated")}catch(a){l(a?.message||"Failed")}finally{f(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Clear Cache"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Improve performance by managing system cache"})]}),i?(0,b.jsx)("div",{className:"text-muted-foreground",children:"Loading..."}):null,k?(0,b.jsx)("div",{className:"rounded-lg border border-border bg-muted p-4 text-sm text-destructive",children:k}):null,m?(0,b.jsx)("div",{className:"rounded-lg border border-border bg-muted p-4 text-sm",children:m}):null,(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>(0,b.jsxs)("div",{className:"admin-panel-table p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Last cleared: ",a.last_cleared_at?new Date(a.last_cleared_at).toLocaleString():"â€”"]})]}),(0,b.jsxs)("button",{className:"admin-panel-btn-danger flex items-center gap-2",onClick:()=>p(a.name),disabled:i,children:[(0,b.jsx)(c.Trash2,{size:18}),"Clear"]})]},a.name))}),(0,b.jsx)("div",{className:"admin-panel-table p-6 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-200 dark:border-orange-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg",children:"Clear All Cache"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will clear all cached data. Use cautiously."})]}),(0,b.jsx)("button",{className:"admin-panel-btn-danger flex items-center gap-2",onClick:r,disabled:a||i,children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.RotateCw,{size:18,className:"animate-spin"}),"Clearing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Trash2,{size:18}),"Clear All"]})})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_8635da69._.js.map